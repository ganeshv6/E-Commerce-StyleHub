/* General Reset and Variables */
*{box-sizing:border-box;margin:0;padding:0}
:root{
  --font-primary:'Poppins', sans-serif;
  --bg-light:#f7f9fc; /* Lighter background */
  --card-light:#ffffff;
  --accent-dark:#1d293f; /* Deep Navy/Charcoal */
  --accent-primary:#3b82f6; /* Blue for primary actions/links */
  --accent-hover:#2563eb;
  --muted-text:#6b7280;
  --shadow-light:0 4px 12px rgba(0,0,0,0.06);
}

body{
  font-family:var(--font-primary);
  background:var(--bg-light); 
  color:var(--accent-dark); 
  -webkit-font-smoothing:antialiased;
}

/* New: Top Sale Banner */
.top-sale-banner {
    background-color: var(--accent-primary);
    color: #fff;
    text-align: center;
    padding: 0.5rem 1rem;
    font-size: 0.85rem;
    font-weight: 400;
}
.top-sale-banner strong {
    font-weight: 700;
}

/* Header */
header.site-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:1rem 1.25rem;
  background:var(--card-light);
  box-shadow:var(--shadow-light);
  position:sticky;
  top:0;
  z-index:50;
}
.brand{display:flex;gap:.75rem;align-items:center}
.logo{
  width:44px;
  height:44px;
  border-radius:12px; /* Slightly rounder */
  background:linear-gradient(135deg, var(--accent-primary), #60a5fa);
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  font-weight:700;
  font-size:1.2rem;
}
.site-title {
    font-size: 1.5rem;
    font-weight: 800;
    color: var(--accent-dark);
    text-decoration: none;
}
.site-actions{display:flex;gap:.75rem;align-items:center}
.search{
  padding:.6rem 1rem;
  border-radius:999px;
  border:1px solid #e5e7eb;
  min-width:250px;
  transition: all 0.3s;
  font-family: inherit;
}
.search:focus {
    border-color: var(--accent-primary);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
    outline: none;
}

/* Buttons */
.btn{
  padding:.6rem 1.2rem;
  border-radius:10px;
  border:none;
  cursor:pointer;
  font-weight:600;
  transition: background-color 0.2s, transform 0.1s, box-shadow 0.2s;
  font-family: inherit;
}
.btn.primary{
  background:var(--accent-primary);
  color:#fff;
}
.btn.primary:hover{
  background:var(--accent-hover);
  transform: translateY(-1px);
}
.btn.ghost{
  background:transparent;
  border:1px solid #e5e7eb;
  color:var(--accent-dark);
}
.btn.ghost:hover {
    background-color: #f3f4f6;
}
.btn.btn-icon {
    padding: .6rem;
    width: auto;
    display: inline-flex;
    align-items: center;
    gap: .4rem;
}
.btn.primary-white {
    background: #fff;
    color: var(--accent-dark);
    box-shadow: var(--shadow-light);
}
.btn.primary-white:hover {
    background: #f3f4f6;
}
.btn.btn-lg {
    padding: .8rem 1.5rem;
}
.btn.btn-sm {
    padding: .4rem .8rem;
    font-size: .85rem;
}

/* Layout */
.container{max-width:1200px;margin:1.5rem auto;padding:0 1rem}
.top-row{
  display:flex;
  gap:1.5rem;
  align-items:center;
  justify-content:space-between;
  flex-wrap: wrap; /* For responsiveness */
}
.section-heading {
    margin-bottom: 0.5rem;
}
.title-primary {
    font-size: 1.8rem;
    font-weight: 700;
}
.subtitle {
    color: var(--muted-text);
    font-size: 0.9rem;
}

/* Filters */
.filters{
  display:flex;
  gap:.6rem;
  flex-wrap:wrap;
  overflow-x: auto;
  padding-bottom: .5rem;
}
.chip{
  padding:.45rem 1rem;
  background:var(--card-light);
  border-radius:999px;
  border:1px solid #e5e7eb;
  cursor:pointer;
  font-weight:500;
  font-size:0.9rem;
  transition: all 0.2s;
  white-space: nowrap;
}
.chip.active{
  background:var(--accent-primary);
  color: #fff;
  border-color: var(--accent-primary);
  box-shadow: 0 4px 10px rgba(59, 130, 246, 0.3);
  transform:translateY(-2px);
}

/* Hero Slider Styles (Swiper) */
.hero-slider{width:100%;height:380px;margin:0 auto 1.5rem; max-width: 1400px; border-radius: 0 0 20px 20px; overflow: hidden;}
.hero-slide{
    font-size:18px;
    background-size:cover;
    background-position:center;
    display:flex;
    justify-content:flex-start;
    align-items:center;
    padding-left:10%;
    position:relative;
}
/* Background Images for Slides */
.slide-1{background-image:linear-gradient(to right, rgba(29, 41, 63, 0.7), transparent), url('https://images.unsplash.com/photo-1600185365778-7875a359b924?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NDJ8fHNob2VzfGVufDB8MHwwfHx8MA%3D%3D');}
.slide-2{background-image:linear-gradient(to right, rgba(29, 41, 63, 0.7), transparent), url('https://images.unsplash.com/photo-1594636797501-ef436e157819?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NTJ8fGdhbWluZyUyMHNldHVwfGVufDB8MHwwfHx8MA%3D%3D');}
.slide-3{background-image:linear-gradient(to right, rgba(29, 41, 63, 0.7), transparent), url('https://images.unsplash.com/photo-1673261018229-a22d1fae7e3d?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NTh8fHdhdGNocyUyMGFuZCUyMGp3ZWxzfGVufDB8MHwwfHx8MA%3D%3D');}

.slide-content{
    text-align:left;
    color:#fff;
    max-width:500px;
    padding:1.5rem;
    border-radius:10px;
    background:rgba(0,0,0,0.3);
    animation: fadeIn 1s ease-out; /* Simple entry animation */
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}
.slide-content h2{font-size:2.5rem;margin-bottom:.5rem; font-weight: 700;}
.slide-content p{margin-bottom:1.5rem;font-size:1rem; font-weight: 300;}
.swiper-button-next, .swiper-button-prev{color:#fff !important}
.swiper-pagination-bullet-active{background:var(--accent-primary) !important}


/* Product Grid */
.product-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:1.5rem;margin-top:1.5rem}
@media(max-width:1100px){.product-grid{grid-template-columns:repeat(3,1fr)}}
@media(max-width:768px){.product-grid{grid-template-columns:repeat(2,1fr); gap: 1rem;}}
@media(max-width:500px){.product-grid{grid-template-columns:1fr}}

.card{
  background:var(--card-light);
  border-radius:16px;
  padding:1rem;
  box-shadow:var(--shadow-light);
  display:flex;
  flex-direction:column;
  transition:transform .3s, box-shadow .3s;
}
.card:hover{
  transform:translateY(-8px);
  box-shadow:0 12px 24px rgba(0,0,0,0.1);
  /* The "pop" animation */
}

.product-media{position:relative;border-radius:12px;overflow:hidden;padding-bottom:75%} /* 4:3 Aspect Ratio */
.product-media img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover; transition: transform 0.3s;}
.card:hover .product-media img {
    transform: scale(1.05); /* Slight zoom on hover */
}

.product-meta{margin-top:1rem;display:flex;justify-content:space-between;align-items:center}
.product-meta h3{font-size:1.1rem; font-weight: 600;}
.price{font-weight:800; color: var(--accent-primary); font-size: 1.1rem;}
.product-category{color:var(--muted-text);font-size:.8rem;margin-top:.4rem; font-weight: 400;}
.actions{display:flex;gap:.5rem;margin-top:.75rem}


/* Modal product view */
.modal-backdrop{
  position:fixed;inset:0;
  background:rgba(2,6,23,.7);
  display:none;
  align-items:center;
  justify-content:center;
  padding:1rem;
  z-index:100;
  backdrop-filter: blur(5px);
  opacity: 0;
  transition: opacity 0.3s;
}
.modal-backdrop[aria-hidden="false"] {
    opacity: 1;
}

.modal{
  background:var(--card-light);
  max-width:1000px;
  width:100%;
  border-radius:16px;
  padding:1.5rem;
  display:grid;
  grid-template-columns:5fr 7fr;
  gap:2rem;
  position: relative;
  transform: scale(0.95);
  transition: transform 0.3s ease-out;
}
.modal-backdrop[aria-hidden="false"] .modal {
    transform: scale(1);
}
.modal .big-img{
    border-radius:12px;
    overflow:hidden;
    height:100%;
    min-height: 400px;
}
.modal .big-img img{width:100%;height:100%;object-fit:cover}
.modal .detail{display:flex;flex-direction:column;gap:.8rem}
.modal-close-btn {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: var(--muted-text);
    padding: 0.5rem;
}
.product-info-top h2{font-size:1.8rem; margin-bottom: .2rem;}
.product-category{color:var(--accent-primary) !important; font-weight: 600 !important;}
.product-price{font-weight:800;font-size:1.5rem}
.product-description{margin-top:.6rem;color:var(--muted-text); line-height: 1.5;}
.product-actions-group {
    display: flex;
    gap: 1rem;
    align-items: center;
    margin-top: 1rem;
}
.qty{display:flex;gap:.4rem;align-items:center}
.qty input {
    width:70px;
    padding:.4rem;
    border-radius:8px;
    border:1px solid #e5e7eb;
    text-align: center;
    font-family: inherit;
}

/* Cart sidebar */
.cart-panel{
    position:fixed;right:0;top:0;height:100vh;
    width:400px; /* Slightly wider */
    max-width: 100%;
    background:var(--card-light);
    box-shadow:-20px 0 40px rgba(29, 41, 63,.15);
    padding:1.5rem;
    transform:translateX(110%);
    transition:transform .3s ease-in-out;
    z-index:100;
    display: flex;
    flex-direction: column;
}
.cart-panel.open{transform:translateX(0)}
.cart-header{display:flex;justify-content:space-between;align-items:center; margin-bottom: 1rem;}
.cart-header h3 { font-size: 1.5rem; }
.cart-actions-header { display: flex; gap: .5rem; }
.cart-items{
    flex-grow: 1;
    display:flex;
    flex-direction:column;
    gap:1rem;
    overflow-y:auto;
    padding-right:.5rem;
    max-height: calc(100vh - 300px); /* Adjust based on header/footer size */
}
.cart-item{
    display:flex;
    gap:1rem;
    align-items:center;
    padding: .5rem 0;
    border-bottom: 1px dashed #f3f4f6;
}
.cart-item img{width:80px;height:80px;object-fit:cover;border-radius:8px}
.cart-item strong { font-weight: 600; font-size: 1rem; }
.cart-summary{margin-top:1.5rem; padding-top: 1rem; border-top: 1px solid #e5e7eb;}
.cart-total-row {
    display:flex;
    justify-content:space-between;
    align-items:center;
    font-size: 1.2rem;
    margin-bottom: 1rem;
}
.total-label { font-weight: 600; }
.total-amount { font-weight: 800; color: var(--accent-primary); }

/* Checkout */
.checkout-area {
    margin-top: 1.5rem;
    padding-top: 1rem;
    border-top: 1px dashed #e5e7eb;
}
.checkout-form{display:flex;flex-direction:column;gap:.75rem; margin-top: .75rem;}
.input, .textarea{
    padding:.6rem;
    border-radius:8px;
    border:1px solid #e5e7eb;
    font-family: inherit;
    transition: border-color 0.2s;
}
.input:focus, .textarea:focus {
    border-color: var(--accent-primary);
    outline: none;
}


/* Reviews */
.reviews{margin-top:1rem;border-top:1px dashed #e5e7eb;padding-top:1rem}
.review{background:var(--bg-light);padding:.75rem;border-radius:10px;margin-top:.75rem; border: 1px solid #e5e7eb;}
.review strong { color: var(--accent-dark); }
.review .rating { color: #f59e0b; font-weight: 700; }

/* Footer */
footer{margin-top:2.5rem;padding:2rem 0;text-align:center;color:var(--muted-text); background: var(--card-light); border-top: 1px solid #eee;}

/* Responsive adjustments */
@media(max-width:800px){
    .modal{grid-template-columns:1fr; gap: 1.5rem;}
    .modal .big-img{min-height: 250px;}
    .hero-slider{height: 300px;}
    .slide-content h2{font-size: 1.8rem;}
    .slide-content{padding-left: 5%;}
    .top-row{flex-direction: column; align-items: flex-start;}
    .site-actions{width: 100%;}
    .search{min-width: unset; width: 100%;}
}
@media(max-width:480px){
    .cart-panel{width: 100%;}
    .site-actions{flex-direction: column-reverse; gap: .5rem;}
    .search{order: 2;}
    .btn-icon{order: 1;}
}